{% extends "base.html" %}
{% block title %}å½“å‰æœ€ä¼˜ç­–ç•¥(v4.3å€™é€‰) - æŠ€æœ¯åˆ†æå¹³å°{% endblock %}

{% block content %}
<style>
    .strategy-hero {
        background: linear-gradient(135deg, rgba(74,158,255,0.14), rgba(168,85,247,0.09));
        border: 1px solid var(--border);
        border-radius: 16px;
        padding: 28px 32px;
        margin-bottom: 28px;
    }
    .strategy-hero h1 { font-size: 26px; font-weight: 700; margin-bottom: 8px; }
    .strategy-hero .tagline { font-size: 14px; color: var(--text-secondary); margin-bottom: 18px; line-height: 1.7; }
    .strategy-meta { display: flex; flex-wrap: wrap; gap: 10px; }
    .strategy-meta .badge {
        padding: 6px 12px;
        border-radius: 8px;
        font-size: 12px;
        font-weight: 600;
    }
    .strategy-meta .blue { background: rgba(74,158,255,0.2); color: var(--accent-blue); }
    .strategy-meta .green { background: rgba(0,214,143,0.2); color: var(--accent-green); }
    .strategy-meta .purple { background: rgba(168,85,247,0.2); color: var(--accent-purple); }
    .strategy-meta .yellow { background: rgba(255,170,0,0.2); color: var(--accent-yellow); }
    .strategy-meta .orange { background: rgba(230,126,34,0.2); color: #e67e22; }

    .section { margin-bottom: 24px; }
    .section p, .section li {
        color: var(--text-secondary);
        font-size: 14px;
        line-height: 1.75;
    }
    .section ul { margin: 0; padding-left: 20px; }
    .param-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 13px;
        margin-top: 8px;
    }
    .param-table th, .param-table td {
        text-align: left;
        padding: 8px 12px;
        border-bottom: 1px solid var(--border);
        vertical-align: top;
    }
    .param-table th { color: var(--text-muted); font-weight: 600; }
    .param-table code { background: var(--bg-secondary); padding: 2px 6px; border-radius: 4px; }
    .hint {
        margin-top: 10px;
        font-size: 12px;
        color: var(--text-muted);
    }
</style>

<div class="strategy-hero">
    <h1>ğŸ“Œ å½“å‰æœ€ä¼˜ç­–ç•¥ï¼ˆv4.3 å€™é€‰ï¼‰</h1>
    <p class="tagline">
        å…­ä¹¦èåˆ Ã— å¤šå‘¨æœŸè”åˆå†³ç­–ï¼ˆ15m+1h+4h+24hï¼‰<br>
        ä¸»çº¿å‚æ•°å…³è” Run#62ï¼ˆè¿›æ”»å¹³è¡¡ï¼‰/ Run#64ï¼ˆå›æ’¤ä¼˜å…ˆï¼‰/ Run#63,66ï¼ˆ2024 OOSï¼‰ï¼Œæˆªè‡³ 2026-02-14ã€‚
    </p>
    <div class="strategy-meta">
        <span class="badge blue">ä¸»TF: 1h / å†³ç­–TF: 15m+1h+4h+24h</span>
        <span class="badge green">SPOT_SELLè¿‡æ»¤: SSâ‰¥35 + 3é¡¹ç¡®è®¤</span>
        <span class="badge purple">Regimeé—¨æ§: low_vol_trend +35</span>
        <span class="badge yellow">åˆ†æ®µæ­¢ç›ˆv3: 12% / 25%</span>
        <span class="badge orange">v4.3å…³é”®æ”¶æ•›: short_sl -0.25 â†’ -0.16</span>
    </div>
</div>

<div class="card section">
    <h3 class="card-title">ğŸ¯ ç­–ç•¥æ‘˜è¦</h3>
    <ul>
        <li>ä¿¡å·å±‚ï¼šå…­ç»´è¯„åˆ†ï¼ˆèƒŒç¦»/å‡çº¿/èœ¡çƒ›å›¾/å¸ƒæ—å¸¦/é‡ä»·/KDJï¼‰åœ¨å¤šå‘¨æœŸå¹¶è¡Œç”Ÿæˆ SS/BSã€‚</li>
        <li>å†³ç­–å±‚ï¼šå¤šå‘¨æœŸå…±è¯† + veto è¿‡æ»¤ + regime åŠ¨æ€é˜ˆå€¼ + åŒå¼•æ“ï¼ˆtrend/reversionï¼‰åˆ‡æ¢ã€‚</li>
        <li>é£æ§å±‚ï¼šç»„åˆä¿æŠ¤ï¼ˆè¿äº/æ—¥äº/å…¨å±€å›æ’¤ï¼‰ã€ç¡¬æ–­è·¯å™¨ã€åˆ†æ®µæ­¢ç›ˆã€è¶‹åŠ¿æŒä»“åº•çº¿ã€‚</li>
        <li>æœ¬è½®ä¼˜åŒ–ä¸»ç»“è®ºï¼š<strong>ç©ºå¤´æ­¢æŸä» -0.25 æ”¶æ•›åˆ° -0.16</strong>ï¼Œåœ¨ä¸ä¼¤ OOS çš„å‰æä¸‹æ”¹å–„ä¸»æ ·æœ¬æ”¶ç›Šä¸å›æ’¤ã€‚</li>
    </ul>
</div>

<div class="card section">
    <h3 class="card-title">ğŸ“Š å½“å‰ä¸»çº¿è¡¨ç°ï¼ˆRun#62ï¼‰</h3>
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-label">å›æµ‹åŒºé—´</div>
            <div class="stat-value">2025-01 ~ 2026-01</div>
            <div class="stat-note">Run#62</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">ç­–ç•¥æ”¶ç›Š</div>
            <div class="stat-value positive">+881.93%</div>
            <div class="stat-note">ä¹°æŒ -13.55%</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Alpha</div>
            <div class="stat-value positive">+895.48%</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">æœ€å¤§å›æ’¤</div>
            <div class="stat-value" style="color:var(--accent-yellow);">-4.43%</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">åˆçº¦PF</div>
            <div class="stat-value">0.93</div>
            <div class="stat-note">ä»… CLOSE_LONG/SHORT</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">ç»„åˆPF</div>
            <div class="stat-value positive">2.17</div>
            <div class="stat-note">å« PARTIAL_TP / SPOT_SELL</div>
        </div>
    </div>

    <h4 style="font-size:14px;font-weight:600;margin-bottom:8px;color:var(--text-primary);">å…³é”® Run å…³è”ï¼ˆç‰ˆæœ¬é€‰æ‹©å™¨å¯ç›´æ¥æŸ¥çœ‹ï¼‰</h4>
    <table class="param-table">
        <thead>
            <tr><th>Run</th><th>æ ‡ç­¾</th><th>åŒºé—´</th><th>æ”¶ç›Š</th><th>MaxDD</th><th>pPF</th><th>ç”¨é€”</th></tr>
        </thead>
        <tbody>
            <tr><td>#62</td><td>live-v6-sl16-c35m3-blkhv</td><td>2025-01~2026-01</td><td class="pnl-pos">+881.93%</td><td>-4.43%</td><td>2.17</td><td>ä¸»çº¿ï¼ˆè¿›æ”»å¹³è¡¡ï¼‰</td></tr>
            <tr><td>#64</td><td>live-v7-sl14-c35m3-blkhv</td><td>2025-01~2026-01</td><td class="pnl-pos">+867.19%</td><td><strong>-3.96%</strong></td><td>2.16</td><td>å¤‡çº¿ï¼ˆå›æ’¤ä¼˜å…ˆï¼‰</td></tr>
            <tr><td>#63</td><td>oos-v13-sl16-c35m3-blkhv</td><td>2024-01~2024-12</td><td class="pnl-pos">+95.98%</td><td>-19.24%</td><td>1.45</td><td>OOSæ ¡éªŒï¼ˆ-0.16ï¼‰</td></tr>
            <tr><td>#66</td><td>oos-v14-sl14-c35m3-blkhv</td><td>2024-01~2024-12</td><td class="pnl-pos">+95.98%</td><td>-19.24%</td><td>1.45</td><td>OOSæ ¡éªŒï¼ˆ-0.14ï¼‰</td></tr>
            <tr><td>#67</td><td>oos-v15-sl16-cap20</td><td>2024-01~2024-12</td><td class="pnl-pos">+85.07%</td><td>-19.57%</td><td>1.54</td><td>éªŒè¯ï¼šcap20 æ”¶ç›Šå›è½ï¼Œä¸é‡‡ç”¨</td></tr>
        </tbody>
    </table>
    <div class="hint">è¯´æ˜ï¼šé¡µé¢æŒ‡æ ‡ä»¥ç»„åˆå£å¾„ï¼ˆportfolio_pfï¼‰ä¸ºä¸»ï¼Œé¿å…åªçœ‹åˆçº¦PFå¯¼è‡´è¯¯åˆ¤ã€‚</div>
</div>

<div class="card section">
    <h3 class="card-title">âš™ï¸ v4.3 ä¸»çº¿å‚æ•°ï¼ˆä¸ Run#62 å¯¹é½ï¼‰</h3>
    <table class="param-table">
        <thead>
            <tr><th>å‚æ•°ç»„</th><th>å‚æ•°</th><th>å€¼</th><th>è¯´æ˜</th></tr>
        </thead>
        <tbody>
            <tr><td>å¤šå‘¨æœŸ</td><td><code>decision_tfs</code></td><td>15m,1h,4h,24h</td><td>æ—¥çº¿çº§è¶‹åŠ¿é”šå®šä¿ç•™ 24h</td></tr>
            <tr><td>èåˆé˜ˆå€¼</td><td><code>consensus_min_strength / coverage_min</code></td><td>40 / 0.5</td><td>å…±è¯†å¼ºåº¦ä¸è¦†ç›–ç‡ä¸‹é™</td></tr>
            <tr><td>å…¥åœºé˜ˆå€¼</td><td><code>sell/buy/short/long_threshold</code></td><td>18 / 25 / 25 / 30</td><td>å®ç›˜å£å¾„ä¸»çº¿</td></tr>
            <tr><td>æ­¢æŸæ­¢ç›ˆ</td><td><code>short_sl / short_tp / long_sl / long_tp</code></td><td>-0.16 / 0.6 / -0.1 / 0.4</td><td>æœ¬è½®æ ¸å¿ƒæ”¹åŠ¨ä»… short_sl</td></tr>
            <tr><td>åˆ†æ®µæ­¢ç›ˆ</td><td><code>use_partial_tp_v3</code></td><td>true</td><td>æ—©é”åˆ©ï¼šTP1=12%ï¼ŒTP2=25%</td></tr>
            <tr><td>SPOT_SELLè¿‡æ»¤</td><td><code>use_spot_sell_confirm</code></td><td>true</td><td>SSâ‰¥35 å¯åŠ¨ç¡®è®¤</td></tr>
            <tr><td>SPOT_SELLè¿‡æ»¤</td><td><code>spot_sell_confirm_ss / min</code></td><td>35 / 3</td><td>ç¡®è®¤é¡¹ä¸è¶³åˆ™é˜»æ–­å–å‡º</td></tr>
            <tr><td>SPOT_SELLè¿‡æ»¤</td><td><code>spot_sell_regime_block</code></td><td>high_vol</td><td>é«˜æ³¢åŠ¨æ®µç¦å–</td></tr>
            <tr><td>Regimeé—¨æ§</td><td><code>use_regime_short_gate</code></td><td>true</td><td>low_vol_trend æŠ¬é«˜åšç©ºé—¨æ§›</td></tr>
            <tr><td>Regimeé—¨æ§</td><td><code>regime_short_gate_add</code></td><td>35</td><td>ä»… low_vol_trend ç”Ÿæ•ˆ</td></tr>
            <tr><td>å¢å¼ºå¼€å…³</td><td><code>use_microstructure / use_dual_engine / use_vol_target</code></td><td>true / true / true</td><td>å›æµ‹ä¸å®ç›˜å‚æ•°ä¿æŒä¸€è‡´</td></tr>
            <tr><td>ä¿æŠ¤</td><td><code>hard_stop_loss / prot_global_dd_limit_pct</code></td><td>-0.28 / 0.15</td><td>è·³ç©ºç¡¬æ­¢æŸ + å…¨å±€å›æ’¤åœæœº</td></tr>
        </tbody>
    </table>
</div>

<div class="card section">
    <h3 class="card-title">ğŸ§ª æœ¬è½®ä¼˜åŒ–ç»“è®ºï¼ˆä½ è¿™å‡ è½®ï¼‰</h3>
    <ul>
        <li><strong>æœ‰æ•ˆï¼š</strong><code>short_sl=-0.16</code>ï¼ˆRun#62ï¼‰ç›¸å¯¹ä¸Šä¸€ä¸»çº¿ Run#55 åŒæ—¶æ”¹å–„æ”¶ç›Šä¸å›æ’¤ã€‚</li>
        <li><strong>å¯é€‰ï¼š</strong><code>short_sl=-0.14</code>ï¼ˆRun#64ï¼‰è¿›ä¸€æ­¥å‹å›æ’¤ï¼Œä½†æ”¶ç›Šç•¥ä½äº -0.16ã€‚</li>
        <li><strong>æ— æ•ˆï¼š</strong><code>regime_short_gate_add</code> ä¸ <code>hard_stop_loss=-0.22</code> åœ¨ 2024 OOS åŸºæœ¬é›¶å½±å“ã€‚</li>
        <li><strong>æš‚ä¸é‡‡ç”¨ï¼š</strong><code>use_spot_sell_cap=true, spot_sell_max_pct=0.2</code>ï¼ˆRun#67ï¼‰æé«˜ pPF ä½†æ”¶ç›Šä¸‹æ»‘æ˜æ˜¾ã€‚</li>
    </ul>
</div>

<div class="card section">
    <h3 class="card-title">ğŸ”— ç»“æœä¸å…¥å£</h3>
    <p>
        <a href="/strategy/multi-tf-daily" style="color:var(--accent-blue);">æœ¬åœ°ç»“æœé¡µï¼šå¤šå‘¨æœŸÂ·é€æ—¥æŒä»“ç›ˆäº</a> Â·
        <a href="/strategy/live-control" style="color:var(--accent-blue);">å®ç›˜æ§åˆ¶é¢æ¿</a> Â·
        <a href="/strategy/multi-tf-date-range-report" style="color:var(--accent-blue);">å¤šå‘¨æœŸåŒºé—´å›æµ‹(DB)</a>
    </p>
    <p>
        <a href="https://invest.executor.life/strategy/current" target="_blank" rel="noopener noreferrer" style="color:var(--accent-blue);">çº¿ä¸Šç­–ç•¥è¯´æ˜é¡µ</a> Â·
        <a href="https://invest.executor.life/strategy/multi-tf-daily" target="_blank" rel="noopener noreferrer" style="color:var(--accent-blue);">çº¿ä¸Šè¿è¡Œç»“æœé¡µ</a>
    </p>
</div>
{% endblock %}
