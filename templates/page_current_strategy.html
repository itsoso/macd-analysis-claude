{% extends "base.html" %}
{% block title %}å½“å‰æœ€ä¼˜ç­–ç•¥(v4.5) - æŠ€æœ¯åˆ†æå¹³å°{% endblock %}

{% block content %}
<style>
    .strategy-hero {
        background: linear-gradient(135deg, rgba(74,158,255,0.14), rgba(168,85,247,0.09));
        border: 1px solid var(--border);
        border-radius: 16px;
        padding: 28px 32px;
        margin-bottom: 28px;
    }
    .strategy-hero h1 { font-size: 26px; font-weight: 700; margin-bottom: 8px; }
    .strategy-hero .tagline { font-size: 14px; color: var(--text-secondary); margin-bottom: 18px; line-height: 1.7; }
    .strategy-meta { display: flex; flex-wrap: wrap; gap: 10px; }
    .strategy-meta .badge {
        padding: 6px 12px;
        border-radius: 8px;
        font-size: 12px;
        font-weight: 600;
    }
    .strategy-meta .blue { background: rgba(74,158,255,0.2); color: var(--accent-blue); }
    .strategy-meta .green { background: rgba(0,214,143,0.2); color: var(--accent-green); }
    .strategy-meta .purple { background: rgba(168,85,247,0.2); color: var(--accent-purple); }
    .strategy-meta .yellow { background: rgba(255,170,0,0.2); color: var(--accent-yellow); }
    .strategy-meta .orange { background: rgba(230,126,34,0.2); color: #e67e22; }
    .strategy-meta .red { background: rgba(239,68,68,0.15); color: #ef4444; }

    .section { margin-bottom: 24px; }
    .section p, .section li {
        color: var(--text-secondary);
        font-size: 14px;
        line-height: 1.75;
    }
    .section ul { margin: 0; padding-left: 20px; }
    .param-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 13px;
        margin-top: 8px;
    }
    .param-table th, .param-table td {
        text-align: left;
        padding: 8px 12px;
        border-bottom: 1px solid var(--border);
        vertical-align: top;
    }
    .param-table th { color: var(--text-muted); font-weight: 600; }
    .param-table code { background: var(--bg-secondary); padding: 2px 6px; border-radius: 4px; }
    .hint {
        margin-top: 10px;
        font-size: 12px;
        color: var(--text-muted);
    }
    .new-tag { display:inline-block; background:#22c55e; color:#fff; font-size:10px; padding:1px 6px; border-radius:4px; margin-left:4px; vertical-align:middle; font-weight:700; }
    .timeline { border-left: 3px solid var(--accent-blue); padding-left: 16px; margin-top: 12px; }
    .timeline .round { margin-bottom: 14px; }
    .round .round-title { font-weight: 700; font-size: 13px; color: var(--text-primary); }
    .round .round-body { font-size: 13px; color: var(--text-secondary); line-height: 1.65; }
    .round .round-date { font-size: 11px; color: var(--text-muted); }
</style>

<div class="strategy-hero">
    <h1>ğŸ“Œ å½“å‰æœ€ä¼˜ç­–ç•¥ v4.5 <span class="new-tag">NEW</span></h1>
    <p class="tagline">
        å…­ä¹¦èåˆ Ã— å¤šå‘¨æœŸè”åˆå†³ç­–ï¼ˆ15m+1h+4h+24hï¼‰<br>
        ä¸»çº¿ = <strong>run#85 åŸºçº¿ + NoTP ç©ºå•æå‰é€€å‡º</strong>ï¼ˆç¬¬åä¸‰è½® E å˜ä½“æœ€ä¼˜ï¼‰ï¼Œæˆªè‡³ 2026-02-14ã€‚<br>
        ä¸‰å¤„æ ¸å¿ƒæ”¹å–„ï¼šâ‘  è¶‹åŠ¿æ®µè¯¯å–å±è”½ â‘¡ åšç©ºé—¨æ§›æé«˜åˆ° 40 â‘¢ NoTP é€€å‡ºè®©åˆçº¦ PF ç¿»æ­£ã€‚
    </p>
    <div class="strategy-meta">
        <span class="badge blue">ä¸»TF: 1h / å†³ç­–TF: 15m+1h+4h+24h</span>
        <span class="badge green">SPOT_SELL: SSâ‰¥35ç¡®è®¤Ã—3 + block high_vol,trend</span>
        <span class="badge purple">Regimeé—¨æ§: low_vol_trend +35</span>
        <span class="badge yellow">åˆ†æ®µæ­¢ç›ˆv3: 12% / 25%</span>
        <span class="badge orange">v4.5: short_thr=40 + NoTPé€€å‡º16bar</span>
        <span class="badge red">åˆçº¦PFç¿»æ­£: 0.93â†’1.06</span>
    </div>
</div>

<div class="card section">
    <h3 class="card-title">ğŸ¯ ç­–ç•¥æ‘˜è¦</h3>
    <ul>
        <li>ä¿¡å·å±‚ï¼šå…­ç»´è¯„åˆ†ï¼ˆèƒŒç¦»/å‡çº¿/èœ¡çƒ›å›¾/å¸ƒæ—å¸¦/é‡ä»·/KDJï¼‰åœ¨å¤šå‘¨æœŸå¹¶è¡Œç”Ÿæˆ SS/BSã€‚</li>
        <li>å†³ç­–å±‚ï¼šå¤šå‘¨æœŸå…±è¯† + veto è¿‡æ»¤ + regime åŠ¨æ€é˜ˆå€¼ + åŒå¼•æ“ï¼ˆtrend/reversionï¼‰åˆ‡æ¢ã€‚</li>
        <li>é£æ§å±‚ï¼šç»„åˆä¿æŠ¤ï¼ˆè¿äº/æ—¥äº/å…¨å±€å›æ’¤ï¼‰ã€ç¡¬æ–­è·¯å™¨ã€åˆ†æ®µæ­¢ç›ˆã€è¶‹åŠ¿æŒä»“åº•çº¿ã€‚</li>
        <li><strong>v4.5 ä¸‰é¡¹æ”¹å–„ï¼š</strong>
            â‘  <code>short_threshold=40</code>ï¼ˆè¿‡æ»¤ä½è´¨é‡å¼€ç©ºï¼‰
            â‘¡ <code>spot_sell_regime_block=high_vol,trend</code>ï¼ˆè¶‹åŠ¿æ®µè¯¯å–å®é”¤ä¿®å¤ï¼‰
            â‘¢ <code>no_tp_exit_bars=16</code>ï¼ˆç©ºå• NoTP æå‰é€€å‡ºï¼Œåˆçº¦ PF ç¿»æ­£ï¼‰
        </li>
    </ul>
</div>

<div class="card section">
    <h3 class="card-title">ğŸ“Š v4.5 ä¸»çº¿è¡¨ç°ï¼ˆç¬¬åä¸‰è½® E å˜ä½“ï¼‰</h3>
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-label">å›æµ‹åŒºé—´</div>
            <div class="stat-value">2025-01 ~ 2026-01</div>
            <div class="stat-note">run#85åŸºçº¿ + NoTPé€€å‡º</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">ç­–ç•¥æ”¶ç›Š</div>
            <div class="stat-value positive">+856.74%</div>
            <div class="stat-note">run#85åŸºçº¿ +857.86%</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">Alpha</div>
            <div class="stat-value positive">+870.29%</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">æœ€å¤§å›æ’¤</div>
            <div class="stat-value" style="color:var(--accent-yellow);">-5.03%</div>
            <div class="stat-note">åŸºçº¿ -6.51%ï¼ˆ+1.48ppï¼‰</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">åˆçº¦PF</div>
            <div class="stat-value positive">1.06</div>
            <div class="stat-note">åŸºçº¿ 0.93ï¼ˆç¿»æ­£ï¼ï¼‰</div>
        </div>
        <div class="stat-card">
            <div class="stat-label">ç»„åˆPF</div>
            <div class="stat-value positive">2.62</div>
            <div class="stat-note">åŸºçº¿ 2.35ï¼ˆ+0.27ï¼‰</div>
        </div>
    </div>

    <h4 style="font-size:14px;font-weight:600;margin:16px 0 8px;color:var(--text-primary);">ç¬¬åä¸‰è½® 3 ç»´æ¶ˆèï¼ˆ8 ç»„çŸ©é˜µï¼‰</h4>
    <table class="param-table">
        <thead>
            <tr><th>å˜ä½“</th><th>æ”¶ç›Š</th><th>MaxDD</th><th>cPF</th><th>pPF</th><th>CLOSE_SHORT</th><th>SPOT_SELL</th><th>ç»“è®º</th></tr>
        </thead>
        <tbody>
            <tr><td>A: run85åŸºçº¿</td><td>+857.86%</td><td>-6.51%</td><td>0.93</td><td>2.35</td><td class="pnl-neg">-59,589</td><td class="pnl-pos">+580,469</td><td>åŸºå‡†</td></tr>
            <tr><td>B1: blkä»…é«˜æ³¢</td><td>+803.01%</td><td>-7.90%</td><td>0.93</td><td>2.11</td><td class="pnl-neg">-59,643</td><td class="pnl-pos">+461,263</td><td style="color:#ef4444">-54ppï¼Œè¶‹åŠ¿å±è”½å¿…é¡»</td></tr>
            <tr><td>B2: blkä¸‰æ®µ(+lvt)</td><td>+857.86%</td><td>-6.51%</td><td>0.93</td><td>2.35</td><td class="pnl-neg">-59,589</td><td class="pnl-pos">+580,469</td><td>0å¢é‡ï¼Œlvtä¸éœ€è¦</td></tr>
            <tr><td>C1: confirm=2</td><td>+810.04%</td><td>-6.59%</td><td>0.92</td><td>2.32</td><td class="pnl-neg">-62,271</td><td class="pnl-pos">+474,282</td><td style="color:#ef4444">-48ppï¼Œæ”¾æ¾ç¡®è®¤æœ‰å®³</td></tr>
            <tr><td>C2: confirm=4</td><td>+193.90%</td><td>-26.10%</td><td>0.89</td><td>1.05</td><td class="pnl-neg">-19,021</td><td class="pnl-neg">-79,661</td><td style="color:#ef4444">ä¸¥é‡é€€åŒ–ï¼æ€æ­»SPOT_SELL</td></tr>
            <tr><td>D1: thr=38</td><td>+829.91%</td><td>-6.51%</td><td>0.92</td><td>2.29</td><td class="pnl-neg">-61,190</td><td class="pnl-pos">+548,509</td><td>-28ppï¼Œ40æ›´ä¼˜</td></tr>
            <tr><td>D2: thr=42</td><td>+862.08%</td><td>-6.51%</td><td>0.98</td><td>2.39</td><td class="pnl-neg">-39,763</td><td class="pnl-pos">+552,436</td><td style="color:var(--accent-yellow)">å¾®å¹…æ”¹å–„ï¼Œå¯é€‰</td></tr>
            <tr style="background:rgba(34,197,94,0.08);font-weight:600;">
                <td>E: run85+NoTP â­</td>
                <td class="pnl-pos">+856.74%</td>
                <td style="color:var(--accent-green)">-5.03%</td>
                <td class="pnl-pos">1.06</td>
                <td class="pnl-pos">2.62</td>
                <td>-10,340</td>
                <td class="pnl-pos">+579,395</td>
                <td style="color:var(--accent-green)">æœ€ä¼˜ï¼å›æ’¤+PFåŒæ”¹å–„</td>
            </tr>
        </tbody>
    </table>
    <div class="hint">
        <strong>æ¶ˆèç»“è®ºï¼š</strong>
        â‘  block=high_vol,trend å¿…é¡»ä¿ç•™ï¼ˆ-54ppï¼‰
        â‘¡ confirm_min=3 æ˜¯ç”œèœœç‚¹ï¼ˆ2å¤ªæ¾ï¼Œ4æ€æ­»SPOT_SELLï¼‰
        â‘¢ short_threshold=40 ä¼˜äº 38ï¼ˆ-28ppï¼‰
        â‘£ <strong>NoTPé€€å‡ºæ˜¯å”¯ä¸€æœ‰æ•ˆå åŠ </strong>ï¼šå›æ’¤ -5.03%ã€pPF 2.62ã€åˆçº¦PFç¿»æ­£1.06
    </div>

    <h4 style="font-size:14px;font-weight:600;margin:16px 0 8px;color:var(--text-primary);">å…³é”® Run å…³è”</h4>
    <table class="param-table">
        <thead>
            <tr><th>Run</th><th>æ ‡ç­¾</th><th>åŒºé—´</th><th>æ”¶ç›Š</th><th>MaxDD</th><th>pPF</th><th>ç”¨é€”</th></tr>
        </thead>
        <tbody>
            <tr><td>#85</td><td>short40+blk-hv,trend+c35m3</td><td>2025-01~2026-01</td><td class="pnl-pos">+857.86%</td><td>-6.51%</td><td>2.35</td><td>v4.5 åŸºçº¿</td></tr>
            <tr><td>#86</td><td>OOS run#85</td><td>2024-01~2024-12</td><td class="pnl-pos">+81.45%</td><td>-19.71%</td><td>1.35</td><td>OOSæ ¡éªŒ</td></tr>
            <tr style="background:rgba(34,197,94,0.06);">
                <td><strong>R13-E</strong></td>
                <td>run85+NoTP16bar</td>
                <td>2025-01~2026-01</td>
                <td class="pnl-pos"><strong>+856.74%</strong></td>
                <td><strong>-5.03%</strong></td>
                <td><strong>2.62</strong></td>
                <td><strong>v4.5 ä¸Šçº¿å€™é€‰ â­</strong></td>
            </tr>
            <tr><td>#62</td><td>v4.3ä¸»çº¿(sl16-c35m3-blkhv)</td><td>2025-01~2026-01</td><td class="pnl-pos">+881.93%</td><td>-4.43%</td><td>2.17</td><td>å‰ä¸»çº¿ï¼ˆCodexæ•°æ®ï¼‰</td></tr>
            <tr><td>#69</td><td>æ¿€è¿›å€™é€‰(short35)</td><td>2025-01~2026-01</td><td class="pnl-pos">+968.33%</td><td>-6.81%</td><td>2.70</td><td>æ¿€è¿›ï¼ˆOOSé™ï¼Œæš‚ä¸ä¸Šçº¿ï¼‰</td></tr>
        </tbody>
    </table>
</div>

<div class="card section">
    <h3 class="card-title">âš™ï¸ v4.5 ä¸Šçº¿å‚æ•°é›†</h3>
    <table class="param-table">
        <thead>
            <tr><th>å‚æ•°ç»„</th><th>å‚æ•°</th><th>å€¼</th><th>è¯´æ˜</th></tr>
        </thead>
        <tbody>
            <tr><td>å¤šå‘¨æœŸ</td><td><code>decision_tfs</code></td><td>15m,1h,4h,24h</td><td>æ—¥çº¿çº§è¶‹åŠ¿é”šå®šä¿ç•™ 24h</td></tr>
            <tr><td>èåˆé˜ˆå€¼</td><td><code>consensus_min_strength / coverage_min</code></td><td>40 / 0.5</td><td>å…±è¯†å¼ºåº¦ä¸è¦†ç›–ç‡ä¸‹é™</td></tr>
            <tr style="background:rgba(34,197,94,0.06);">
                <td><strong>å…¥åœºé˜ˆå€¼</strong> <span class="new-tag">v4.5</span></td>
                <td><code>short_threshold</code></td>
                <td><strong>40</strong></td>
                <td><strong>v4.3:25â†’v4.5:40ï¼Œè¿‡æ»¤ä½è´¨é‡å¼€ç©º</strong></td>
            </tr>
            <tr><td>å…¥åœºé˜ˆå€¼</td><td><code>sell/buy/long_threshold</code></td><td>18 / 25 / 30</td><td>ä¿æŒ</td></tr>
            <tr><td>æ­¢æŸæ­¢ç›ˆ</td><td><code>short_sl / short_tp / long_sl / long_tp</code></td><td>-0.16 / 0.6 / -0.1 / 0.4</td><td>v4.3 æ”¶æ•›ï¼Œä¿æŒ</td></tr>
            <tr><td>åˆ†æ®µæ­¢ç›ˆ</td><td><code>use_partial_tp_v3</code></td><td>true</td><td>æ—©é”åˆ©ï¼šTP1=12%ï¼ŒTP2=25%</td></tr>
            <tr style="background:rgba(34,197,94,0.06);">
                <td><strong>NoTPé€€å‡º</strong> <span class="new-tag">v4.5</span></td>
                <td><code>no_tp_exit_bars / no_tp_exit_min_pnl</code></td>
                <td><strong>16 / 0.03</strong></td>
                <td><strong>ç©ºå•æŒä»“â‰¥16bar + æœªè¾¾TP1 + ç›ˆåˆ©&lt;3% â†’ å¹³ä»“</strong></td>
            </tr>
            <tr><td>SPOT_SELLè¿‡æ»¤</td><td><code>use_spot_sell_confirm / ss / min</code></td><td>true / 35 / 3</td><td>confirm_min=3 æ˜¯ç”œèœœç‚¹</td></tr>
            <tr style="background:rgba(34,197,94,0.06);">
                <td><strong>SPOT_SELLå±è”½</strong> <span class="new-tag">v4.5</span></td>
                <td><code>spot_sell_regime_block</code></td>
                <td><strong>high_vol,trend</strong></td>
                <td><strong>è¶‹åŠ¿æ®µè¯¯å–å®é”¤ä¿®å¤ï¼ˆOOS trend +12.9kï¼‰</strong></td>
            </tr>
            <tr><td>Regimeé—¨æ§</td><td><code>regime_short_gate_add</code></td><td>35</td><td>ä»… low_vol_trend ç”Ÿæ•ˆ</td></tr>
            <tr><td>å¢å¼ºå¼€å…³</td><td><code>use_microstructure / use_dual_engine / use_vol_target</code></td><td>true / true / true</td><td>ä¿æŒ</td></tr>
            <tr><td>ä¿æŠ¤</td><td><code>hard_stop_loss / prot_global_dd_limit_pct</code></td><td>-0.28 / 0.15</td><td>ä¿æŒ</td></tr>
        </tbody>
    </table>
</div>

<div class="card section">
    <h3 class="card-title">ğŸ§ª ä¼˜åŒ–å†ç¨‹</h3>
    <div class="timeline">
        <div class="round">
            <div class="round-date">2026-02-14 æœ€æ–°</div>
            <div class="round-title">ç¬¬åä¸‰è½®: run#85 åŸºçº¿ 3 ç»´æ¶ˆè â­</div>
            <div class="round-body">
                8 ç»„çŸ©é˜µéªŒè¯ï¼šâ‘  block=hv+trend å¿…é¡»ä¿ç•™ï¼ˆå»æ‰ trend å‡ 54ppï¼‰â‘¡ confirm_min=3 ç”œèœœç‚¹ï¼ˆ4 æ€æ­» SPOT_SELLï¼‰
                â‘¢ threshold=40 ä¼˜äº 38 â‘£ <strong>E(run85+NoTP) æœ€ä¼˜ï¼špPF 2.62ã€å›æ’¤ -5.03%ã€åˆçº¦ PF ç¿»æ­£ 1.06</strong>
            </div>
        </div>
        <div class="round">
            <div class="round-date">2026-02-14</div>
            <div class="round-title">ç¬¬åäºŒè½®: regime-specific short_threshold</div>
            <div class="round-body">neutral/high_vol é—¨æ§›35 â†’ 0å¢é‡ã€‚è¿™äº› regime çš„å¼€ä»“ SS å·² â‰¥35ï¼Œä¸éœ€è¦ã€‚</div>
        </div>
        <div class="round">
            <div class="round-date">2026-02-14</div>
            <div class="round-title">ç¬¬åä¸€è½®: P1a NoTPé€€å‡º + P1b neutralé™å–</div>
            <div class="round-body">B(NoTPé€€å‡º16bar) æ”¶ç›Š+27.8ppã€CLOSE_SHORTç¿»æ­£ã€‚é¦–æ¬¡éªŒè¯ NoTP æœ‰æ•ˆæ€§ã€‚</div>
        </div>
        <div class="round">
            <div class="round-date">2026-02-14</div>
            <div class="round-title">P0ä¿®å¤ + run#62 live_config å›ºåŒ–</div>
            <div class="round-body">ä¿®å¤ use_spot_sell_confirm å‰è§† bug (ema20/vol_now)ã€‚å›ºåŒ– short_sl=-0.16, confirm35Ã—3, block=high_volã€‚</div>
        </div>
        <div class="round">
            <div class="round-date">2026-02-14</div>
            <div class="round-title">ç¬¬å…«~åè½®: LVTé—¨æ§ / SPOT_SELLè´¨é‡ / åŒMACD</div>
            <div class="round-body">E:LVT+35ã€G:SS70min2+cd18ã€åŒMACDå…±æŒ¯ï¼ˆæµ‹è¯•ä¸­ï¼‰ã€‚</div>
        </div>
    </div>
</div>

<div class="card section">
    <h3 class="card-title">ğŸ“‹ ä¸‹ä¸€æ­¥</h3>
    <ul>
        <li><strong>å¾… OOS éªŒè¯ï¼š</strong>v4.5ï¼ˆrun#85+NoTPï¼‰åœ¨ 2024 å¹´ OOS è¡¨ç°ï¼Œç¡®è®¤ pPF ä¸ä¸‹é™ã€‚</li>
        <li><strong>å¯é€‰å¾®è°ƒï¼š</strong>D2(short_threshold=42) å¾®å¹…æ”¹å–„ï¼Œå¯åœ¨ NoTP åŸºç¡€ä¸Šå åŠ éªŒè¯ã€‚</li>
        <li><strong>å·²å¦å†³ï¼š</strong>confirm_min=4ï¼ˆä¸¥é‡é€€åŒ–ï¼‰ã€confirm_min=2ï¼ˆ-48ppï¼‰ã€block ä»… high_volï¼ˆ-54ppï¼‰ã€‚</li>
        <li><strong>è§‚å¯Ÿä¸­ï¼š</strong>run#69(short35å…¨å±€) æ¿€è¿›å€™é€‰ï¼ŒOOS pPF=1.39 åä½ã€‚</li>
    </ul>
</div>

<div class="card section">
    <h3 class="card-title">ğŸ”— ç»“æœä¸å…¥å£</h3>
    <p>
        <a href="/strategy/multi-tf-daily" style="color:var(--accent-blue);">æœ¬åœ°ç»“æœé¡µï¼šå¤šå‘¨æœŸÂ·é€æ—¥æŒä»“ç›ˆäº</a> Â·
        <a href="/strategy/live-control" style="color:var(--accent-blue);">å®ç›˜æ§åˆ¶é¢æ¿</a> Â·
        <a href="/strategy/multi-tf-date-range-report" style="color:var(--accent-blue);">å¤šå‘¨æœŸåŒºé—´å›æµ‹(DB)</a>
    </p>
    <p>
        <a href="https://invest.executor.life/strategy/current" target="_blank" rel="noopener noreferrer" style="color:var(--accent-blue);">çº¿ä¸Šç­–ç•¥è¯´æ˜é¡µ</a> Â·
        <a href="https://invest.executor.life/strategy/multi-tf-daily" target="_blank" rel="noopener noreferrer" style="color:var(--accent-blue);">çº¿ä¸Šè¿è¡Œç»“æœé¡µ</a>
    </p>
    <div class="hint">æœ€åæ›´æ–°ï¼š2026-02-14 Â· ç¬¬åä¸‰è½® 8ç»„æ¶ˆèå®Œæˆ Â· v4.5 = run#85 + NoTPé€€å‡º16bar</div>
</div>
{% endblock %}
