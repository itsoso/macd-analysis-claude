{
  "version": "stacking_v11",
  "timeframe": "4h",
  "meta_type": "blend",
  "trained_at": "2026-02-21T14:23:49.036559",
  "base_models": [
    "lgb",
    "lstm",
    "catboost",
    "tabnet",
    "lgb24h"
  ],
  "extra_features": [
    "hvol_20",
    "disagree",
    "pred_range"
  ],
  "meta_input_dim": 8,
  "meta_coefficients": {
    "blend_w_lr": 0.39758587840574866,
    "blend_w_lgb": 0.6024141215942513
  },
  "meta_intercept": 0.0,
  "hvol_extra_mean": 0.0641767606139183,
  "hvol_extra_std": 0.032997547404298784,
  "oof_meta_auc": 0.5736,
  "val_auc": 0.7726,
  "test_auc": 0.5229,
  "n_oof_samples": 6685,
  "n_folds": 8,
  "feature_names_73": [
    "ret_1",
    "ret_2",
    "ret_3",
    "ret_5",
    "ret_8",
    "ret_13",
    "ret_21",
    "log_ret_1",
    "log_ret_5",
    "roc_5",
    "roc_10",
    "roc_20",
    "momentum_accel",
    "price_percentile",
    "dist_MA5",
    "slope_MA5",
    "dist_MA10",
    "slope_MA10",
    "dist_MA20",
    "slope_MA20",
    "dist_MA60",
    "slope_MA60",
    "ma_cross_5_20",
    "ma_cross_5_20_prev",
    "ma_cross_10_60",
    "macd_dif",
    "macd_dea",
    "macd_bar",
    "macd_bar_change",
    "macd_cross",
    "macd_cross_prev",
    "atr_14",
    "atr_5",
    "rsi6",
    "rsi6_slope",
    "rsi12",
    "rsi12_slope",
    "k",
    "d",
    "j",
    "cci",
    "cci_slope",
    "hvol_5",
    "hvol_20",
    "hvol_ratio",
    "hl_position",
    "dist_high_20",
    "dist_low_20",
    "vol_ratio_5_20",
    "vol_change",
    "vol_price_corr_10",
    "vol_price_agree",
    "taker_buy_ratio",
    "ofi",
    "ofi_ma5",
    "ofi_std5",
    "cum_ofi",
    "cum_ofi_slope",
    "large_trade_ratio",
    "buy_sell_pressure",
    "body_ratio",
    "upper_shadow_ratio",
    "lower_shadow_ratio",
    "is_bull",
    "bull_streak",
    "bear_streak",
    "avg_body_3",
    "max_range_3",
    "hour_sin",
    "hour_cos",
    "dow_sin",
    "dow_cos",
    "cum_ret_5_rank",
    "cum_ret_20_rank",
    "sharpe_5",
    "sharpe_20",
    "funding_rate",
    "funding_rate_ma",
    "oi_change",
    "oi_change_5"
  ],
  "feature_names_73_selected": [
    "ret_13",
    "momentum_accel",
    "slope_MA5",
    "dist_MA10",
    "slope_MA20",
    "dist_MA60",
    "slope_MA60",
    "ma_cross_5_20_prev",
    "ma_cross_10_60",
    "macd_dif",
    "macd_dea",
    "macd_bar",
    "macd_bar_change",
    "atr_14",
    "atr_5",
    "k",
    "d",
    "j",
    "cci",
    "hvol_5",
    "hvol_20",
    "hvol_ratio",
    "dist_high_20",
    "dist_low_20",
    "vol_ratio_5_20",
    "vol_price_corr_10",
    "ofi_ma5",
    "cum_ofi_slope",
    "buy_sell_pressure",
    "body_ratio",
    "lower_shadow_ratio",
    "avg_body_3",
    "max_range_3",
    "dow_cos",
    "cum_ret_20_rank",
    "sharpe_20",
    "te_hour",
    "te_dow"
  ],
  "feature_names_94": [
    "ret_1",
    "ret_2",
    "ret_3",
    "ret_5",
    "ret_8",
    "ret_13",
    "ret_21",
    "log_ret_1",
    "log_ret_5",
    "roc_5",
    "roc_10",
    "roc_20",
    "momentum_accel",
    "price_percentile",
    "dist_MA5",
    "slope_MA5",
    "dist_MA10",
    "slope_MA10",
    "dist_MA20",
    "slope_MA20",
    "dist_MA60",
    "slope_MA60",
    "ma_cross_5_20",
    "ma_cross_5_20_prev",
    "ma_cross_10_60",
    "macd_dif",
    "macd_dea",
    "macd_bar",
    "macd_bar_change",
    "macd_cross",
    "macd_cross_prev",
    "atr_14",
    "atr_5",
    "rsi6",
    "rsi6_slope",
    "rsi12",
    "rsi12_slope",
    "k",
    "d",
    "j",
    "cci",
    "cci_slope",
    "hvol_5",
    "hvol_20",
    "hvol_ratio",
    "hl_position",
    "dist_high_20",
    "dist_low_20",
    "vol_ratio_5_20",
    "vol_change",
    "vol_price_corr_10",
    "vol_price_agree",
    "taker_buy_ratio",
    "ofi",
    "ofi_ma5",
    "ofi_std5",
    "cum_ofi",
    "cum_ofi_slope",
    "large_trade_ratio",
    "buy_sell_pressure",
    "body_ratio",
    "upper_shadow_ratio",
    "lower_shadow_ratio",
    "is_bull",
    "bull_streak",
    "bear_streak",
    "avg_body_3",
    "max_range_3",
    "hour_sin",
    "hour_cos",
    "dow_sin",
    "dow_cos",
    "cum_ret_5_rank",
    "cum_ret_20_rank",
    "sharpe_5",
    "sharpe_20",
    "funding_rate",
    "funding_rate_ma",
    "oi_change",
    "oi_change_5",
    "btc_ret_1",
    "btc_ret_5",
    "btc_ret_21",
    "btc_eth_corr_20",
    "btc_eth_corr_60",
    "btc_rel_strength",
    "btc_vol_ratio",
    "sol_ret_1",
    "sol_ret_5",
    "sol_ret_21",
    "sol_eth_corr_20",
    "sol_eth_corr_60",
    "sol_rel_strength",
    "sol_vol_ratio",
    "bnb_ret_1",
    "bnb_ret_5",
    "bnb_ret_21",
    "bnb_eth_corr_20",
    "bnb_eth_corr_60",
    "bnb_rel_strength",
    "bnb_vol_ratio"
  ],
  "feat_mean_73": [
    0.0001637988316360861,
    0.0003224142419639975,
    0.0004870840348303318,
    0.0008220340823754668,
    0.0012824202422052622,
    0.0020870952866971493,
    0.0034972326830029488,
    2.809342186083086e-05,
    0.00014404945250134915,
    0.0008220340823754668,
    0.0015856247628107667,
    0.0033253254368901253,
    -0.00926915742456913,
    0.5239347219467163,
    0.00011200109292985871,
    0.00028671626932919025,
    0.0002874094352591783,
    0.00019570304721128196,
    0.0006687187706120312,
    0.0001575178321218118,
    0.002291919896379113,
    0.00010282386938342825,
    0.0003995443694293499,
    0.0004038647166453302,
    0.0016161422245204449,
    -0.000749816419556737,
    -0.0007626225706189871,
    2.560701614129357e-05,
    -0.0037018447183072567,
    0.032877009361982346,
    0.033092595636844635,
    0.022854004055261612,
    0.022850992158055305,
    0.5076630711555481,
    -1.970956327568274e-05,
    0.5072987079620361,
    -4.917007390758954e-05,
    0.5274494886398315,
    0.5274985432624817,
    0.5273473262786865,
    0.012253071181476116,
    -0.00020621519070118666,
    0.065096914768219,
    0.07072465866804123,
    0.9232500195503235,
    0.5211745500564575,
    -0.052857279777526855,
    0.0568220317363739,
    1.007988691329956,
    0.26927751302719116,
    -0.056040070950984955,
    -0.03938790038228035,
    0.4972342550754547,
    -0.005532057955861092,
    -0.005550549365580082,
    0.05872730165719986,
    -18.892993927001953,
    -0.019549118354916573,
    0.070497065782547,
    -0.005773530341684818,
    0.4157319664955139,
    0.2799859046936035,
    0.30428025126457214,
    0.5064136981964111,
    0.9485825300216675,
    0.902015745639801,
    0.010656248778104782,
    0.03206506371498108,
    1.320089300078994e-20,
    -0.00010779346484923735,
    0.00040881228051148355,
    0.00026615060050971806,
    0.5069459080696106,
    0.5105008482933044,
    0.09421864151954651,
    0.4026428759098053,
    9.79718315647915e-05,
    9.862713341135532e-05,
    0.0,
    0.0
  ],
  "feat_std_73": [
    0.016456684097647667,
    0.022958993911743164,
    0.028281884267926216,
    0.03672954440116882,
    0.04566023126244545,
    0.058031871914863586,
    0.07453285902738571,
    0.016486698761582375,
    0.036897189915180206,
    0.03672954440116882,
    0.05063064768910408,
    0.07272353023290634,
    137.09327697753906,
    0.34305667877197266,
    0.017949536442756653,
    0.01994599588215351,
    0.027361702173948288,
    0.014521351084113121,
    0.040113113820552826,
    0.01069682464003563,
    0.07271936535835266,
    0.006383019033819437,
    0.03133450821042061,
    0.03133699297904968,
    0.06161567568778992,
    0.019512290135025978,
    0.018528973683714867,
    0.01097449753433466,
    7.27310037612915,
    0.9994884133338928,
    0.9994727373123169,
    0.012777054682374,
    0.014187244698405266,
    0.2337719351053238,
    0.2581598460674286,
    0.17760257422924042,
    0.15439201891422272,
    0.20863622426986694,
    0.1828828752040863,
    0.32261794805526733,
    0.5563979148864746,
    0.5588418841362,
    0.04779704287648201,
    0.039083097130060196,
    0.3952800929546356,
    0.27221089601516724,
    0.0558684803545475,
    0.04659067839384079,
    0.3454571068286896,
    9.707456588745117,
    0.44657447934150696,
    0.45725393295288086,
    0.03398051857948303,
    0.06796102970838547,
    0.036124080419540405,
    0.02627803571522236,
    15.951359748840332,
    2.8806581497192383,
    0.10378769040107727,
    0.038627516478300095,
    0.24616186320781708,
    0.19815683364868164,
    0.20450426638126373,
    0.4999675750732422,
    1.2937607765197754,
    1.2459665536880493,
    0.008930823765695095,
    0.02337673306465149,
    0.707068681716919,
    0.7071448564529419,
    0.707051157951355,
    0.707161009311676,
    0.2947041094303131,
    0.3154996633529663,
    2.6510260105133057,
    4.451301574707031,
    0.00019577548664528877,
    0.00017312097770627588,
    9.99999993922529e-09,
    9.99999993922529e-09
  ],
  "feat_mean_94": [
    0.0001637988316360861,
    0.0003224142419639975,
    0.0004870840348303318,
    0.0008220340823754668,
    0.0012824202422052622,
    0.0020870952866971493,
    0.0034972326830029488,
    2.809342186083086e-05,
    0.00014404945250134915,
    0.0008220340823754668,
    0.0015856247628107667,
    0.0033253254368901253,
    -0.00926915742456913,
    0.5239347219467163,
    0.00011200109292985871,
    0.00028671626932919025,
    0.0002874094352591783,
    0.00019570304721128196,
    0.0006687187706120312,
    0.0001575178321218118,
    0.002291919896379113,
    0.00010282386938342825,
    0.0003995443694293499,
    0.0004038647166453302,
    0.0016161422245204449,
    -0.000749816419556737,
    -0.0007626225706189871,
    2.560701614129357e-05,
    -0.0037018447183072567,
    0.032877009361982346,
    0.033092595636844635,
    0.022854004055261612,
    0.022850992158055305,
    0.5076630711555481,
    -1.970956327568274e-05,
    0.5072987079620361,
    -4.917007390758954e-05,
    0.5274494886398315,
    0.5274985432624817,
    0.5273473262786865,
    0.012253071181476116,
    -0.00020621519070118666,
    0.065096914768219,
    0.07072465866804123,
    0.9232500195503235,
    0.5211745500564575,
    -0.052857279777526855,
    0.0568220317363739,
    1.007988691329956,
    0.26927751302719116,
    -0.056040070950984955,
    -0.03938790038228035,
    0.4972342550754547,
    -0.005532057955861092,
    -0.005550549365580082,
    0.05872730165719986,
    -18.892993927001953,
    -0.019549118354916573,
    0.070497065782547,
    -0.005773530341684818,
    0.4157319664955139,
    0.2799859046936035,
    0.30428025126457214,
    0.5064136981964111,
    0.9485825300216675,
    0.902015745639801,
    0.010656248778104782,
    0.03206506371498108,
    1.320089300078994e-20,
    -0.00010779346484923735,
    0.00040881228051148355,
    0.00026615060050971806,
    0.5069459080696106,
    0.5105008482933044,
    0.09421864151954651,
    0.4026428759098053,
    9.79718315647915e-05,
    9.862713341135532e-05,
    0.0,
    0.0,
    0.0001471702998969704,
    0.0007275979151017964,
    0.003094231942668557,
    0.8407831788063049,
    0.8395892381668091,
    0.00010404385830042884,
    6.339888095855713,
    0.0006176470196805894,
    0.003053658874705434,
    0.012455166317522526,
    0.7278363108634949,
    0.7211493849754333,
    -0.002222007606178522,
    3.347676992416382,
    0.00022735993843525648,
    0.0011358811752870679,
    0.004498268477618694,
    0.7466713786125183,
    0.7474546432495117,
    -0.00030423904536291957,
    5.660031795501709
  ],
  "feat_std_94": [
    0.016456684097647667,
    0.022958993911743164,
    0.028281884267926216,
    0.03672954440116882,
    0.04566023126244545,
    0.058031871914863586,
    0.07453285902738571,
    0.016486698761582375,
    0.036897189915180206,
    0.03672954440116882,
    0.05063064768910408,
    0.07272353023290634,
    137.09327697753906,
    0.34305667877197266,
    0.017949536442756653,
    0.01994599588215351,
    0.027361702173948288,
    0.014521351084113121,
    0.040113113820552826,
    0.01069682464003563,
    0.07271936535835266,
    0.006383019033819437,
    0.03133450821042061,
    0.03133699297904968,
    0.06161567568778992,
    0.019512290135025978,
    0.018528973683714867,
    0.01097449753433466,
    7.27310037612915,
    0.9994884133338928,
    0.9994727373123169,
    0.012777054682374,
    0.014187244698405266,
    0.2337719351053238,
    0.2581598460674286,
    0.17760257422924042,
    0.15439201891422272,
    0.20863622426986694,
    0.1828828752040863,
    0.32261794805526733,
    0.5563979148864746,
    0.5588418841362,
    0.04779704287648201,
    0.039083097130060196,
    0.3952800929546356,
    0.27221089601516724,
    0.0558684803545475,
    0.04659067839384079,
    0.3454571068286896,
    9.707456588745117,
    0.44657447934150696,
    0.45725393295288086,
    0.03398051857948303,
    0.06796102970838547,
    0.036124080419540405,
    0.02627803571522236,
    15.951359748840332,
    2.8806581497192383,
    0.10378769040107727,
    0.038627516478300095,
    0.24616186320781708,
    0.19815683364868164,
    0.20450426638126373,
    0.4999675750732422,
    1.2937607765197754,
    1.2459665536880493,
    0.008930823765695095,
    0.02337673306465149,
    0.707068681716919,
    0.7071448564529419,
    0.707051157951355,
    0.707161009311676,
    0.2947041094303131,
    0.3154996633529663,
    2.6510260105133057,
    4.451301574707031,
    0.00019577548664528877,
    0.00017312097770627588,
    9.99999993922529e-09,
    9.99999993922529e-09,
    0.01267965231090784,
    0.02815422974526882,
    0.05656548961997032,
    0.13289016485214233,
    0.11692982912063599,
    0.020283710211515427,
    1.6876459121704102,
    0.025136860087513924,
    0.05565435066819191,
    0.11366650462150574,
    0.20172765851020813,
    0.1709027737379074,
    0.041584160178899765,
    1.1055305004119873,
    0.01634245552122593,
    0.03600362688302994,
    0.0689481794834137,
    0.18642060458660126,
    0.1484546810388565,
    0.025608617812395096,
    1.949412226676941
  ],
  "model_files": {
    "lgb": "stacking_lgb_4h.txt",
    "lstm": "stacking_lstm_4h.pt",
    "catboost": "stacking_catboost_4h.cbm",
    "tabnet": "stacking_tabnet_4h.zip",
    "standalone_lgb": "stacking_lgb24h_4h.txt",
    "meta": "stacking_meta_4h.pkl"
  },
  "thresholds": {
    "long_threshold": 0.58,
    "short_threshold": 0.42
  },
  "platt_calibration": {
    "A": 2.5376624997412667,
    "B": 0.38037546529535876,
    "brier_before": 0.24399951204595627,
    "brier_after": 0.24257582429692318,
    "enabled": true
  },
  "adversarial_removed": [
    "ofi_std5",
    "cum_ofi",
    "funding_rate",
    "funding_rate_ma"
  ],
  "target_encoding": [
    "te_hour",
    "te_dow"
  ],
  "noise_std": 0.05
}